<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Diary Nepal VAT Calculator</title>

<style>
body{
margin:0;
font-family:Arial;
background:linear-gradient(135deg,#0f172a,#1e293b,#0f172a);
color:white;
}

.container{
max-width:1100px;
margin:auto;
padding:40px 20px;
display:grid;
grid-template-columns:2fr 1fr;
gap:30px;
}

h1{text-align:center;}
.subtitle{text-align:center;color:#f59e0b;margin-bottom:30px;}

.card{
background:rgba(255,255,255,0.05);
padding:30px;
border-radius:16px;
backdrop-filter:blur(10px);
}

input{
width:100%;
padding:14px;
border-radius:10px;
border:none;
margin-top:10px;
font-size:18px;
}

button{
width:100%;
padding:15px;
margin-top:15px;
border:none;
border-radius:12px;
background:linear-gradient(90deg,#f59e0b,#fb923c);
color:white;
font-size:16px;
cursor:pointer;
}

.modeBtns button{
width:48%;
margin-top:10px;
}

.result{
margin-top:20px;
background:rgba(0,0,0,0.4);
padding:20px;
border-radius:12px;
}

.row{
display:flex;
justify-content:space-between;
margin:8px 0;
}

.total{
font-size:22px;
font-weight:bold;
color:#f59e0b;
}

.history{
max-height:500px;
overflow:auto;
}

.historyItem{
background:rgba(255,255,255,0.05);
padding:12px;
border-radius:10px;
margin-bottom:10px;
font-size:14px;
}

.clearBtn{
background:#ef4444;
margin-top:10px;
}
</style>
</head>

<body>

<h1>Diary Nepal</h1>
<p class="subtitle">VAT Calculator (13%)</p>

<div class="container">

<!-- Calculator -->
<div class="card">

<label>Amount (NPR)</label>
<input type="number" id="amount" placeholder="Enter amount">

<div class="modeBtns">
<button onclick="setMode('add')">Add VAT</button>
<button onclick="setMode('remove')">Remove VAT</button>
</div>

<button onclick="calculate()">Calculate</button>

<div class="result" id="result" style="display:none;">
<div class="row"><span>Net Amount</span><span id="net"></span></div>
<div class="row"><span>VAT</span><span id="vat"></span></div>
<hr>
<div class="row total"><span>Total</span><span id="total"></span></div>
</div>

</div>

<!-- History -->
<div class="card">
<h3>Recent Calculations</h3>
<div class="history" id="history"></div>
<button class="clearBtn" onclick="clearHistory()">Clear History</button>
</div>

</div>

<script>
let mode="add";
let history=[];

function setMode(m){
mode=m;
}

function calculate(){
let amt=parseFloat(document.getElementById("amount").value);
if(!amt){alert("Enter amount");return;}

let vat,net,total;

if(mode==="add"){
net=amt;
vat=amt*0.13;
total=net+vat;
}else{
total=amt;
net=amt/1.13;
vat=total-net;
}

document.getElementById("net").innerText="NPR "+net.toFixed(2);
document.getElementById("vat").innerText="NPR "+vat.toFixed(2);
document.getElementById("total").innerText="NPR "+total.toFixed(2);
document.getElementById("result").style.display="block";

addHistory(net,vat,total);
}

function addHistory(net,vat,total){
let item={
time:new Date().toLocaleTimeString(),
net,vat,total
};
history.unshift(item);
if(history.length>10)history.pop();
renderHistory();
}

function renderHistory(){
let html="";
history.forEach(h=>{
html+=`
<div class="historyItem">
Net: NPR ${h.net.toFixed(2)}<br>
VAT: NPR ${h.vat.toFixed(2)}<br>
Total: NPR ${h.total.toFixed(2)}<br>
<small>${h.time}</small>
</div>`;
});
document.getElementById("history").innerHTML=html||"No history yet";
}

function clearHistory(){
history=[];
renderHistory();
}
</script>

</body>
</html>
