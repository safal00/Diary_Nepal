<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>VAT Invoice Calculator</title>

<style>
body {
  font-family: Arial;
  background:#f5f6fa;
  padding:20px;
}

.container {
  max-width:900px;
  margin:auto;
  background:white;
  padding:20px;
  border-radius:10px;
  box-shadow:0 0 10px rgba(0,0,0,0.1);
}

input, select {
  padding:8px;
  margin:5px 0;
  width:100%;
}

.row {
  display:flex;
  gap:10px;
}

.col {
  flex:1;
}

button {
  padding:12px;
  background:#007bff;
  color:white;
  border:none;
  cursor:pointer;
  margin-top:10px;
}

button:hover {
  background:#0056b3;
}

.result-box {
  margin-top:20px;
  background:#fafafa;
  padding:15px;
  border-radius:8px;
}

h2,h3 {
  margin-bottom:5px;
}
</style>
</head>

<body>

<div class="container">

<h2>VAT & Billing Calculator</h2>

<h3>Invoice Info</h3>

<div class="row">
  <div class="col">
    Invoice No:
    <input type="text" id="invoiceNo" value="INV-001">
  </div>
  <div class="col">
    Issue Date:
    <input type="date" id="issueDate">
  </div>
  <div class="col">
    Transaction Date:
    <input type="date" id="transDate">
  </div>
</div>

Buyer Name:
<input type="text" id="buyer">

<div class="row">
  <div class="col">
    Buyer VAT No:
    <input type="text" id="buyerVat">
  </div>
  <div class="col">
    Buyer Phone:
    <input type="text" id="buyerPhone">
  </div>
</div>

<hr>

Amount:
<input type="number" id="amount" placeholder="Enter amount">

Discount:
<input type="number" id="discount" placeholder="0">

VAT Rate (%):
<select id="vatRate">
  <option value="13">13% (Standard)</option>
  <option value="5">5%</option>
  <option value="10">10%</option>
  <option value="20">20%</option>
  <option value="custom">Custom</option>
</select>

<input type="number" id="customVat" placeholder="Enter custom %" style="display:none;">

<select id="vatType">
  <option value="add">Add VAT</option>
  <option value="remove">Remove VAT</option>
</select>

<button onclick="calculate()">Calculate</button>

<div class="result-box" id="result"></div>

</div>

<script>
document.getElementById("vatRate").addEventListener("change", function() {
  document.getElementById("customVat").style.display =
    this.value === "custom" ? "block" : "none";
});

function numberToWords(num) {
  const a = ["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten",
  "Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"];
  const b = ["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"];
  if(num==0) return "Zero";
  if(num<20) return a[num];
  if(num<100) return b[Math.floor(num/10)]+" "+a[num%10];
  if(num<1000) return a[Math.floor(num/100)]+" Hundred "+numberToWords(num%100);
  if(num<1000000) return numberToWords(Math.floor(num/1000))+" Thousand "+numberToWords(num%1000);
  return num;
}

function calculate() {

  let amount = parseFloat(document.getElementById("amount").value) || 0;
  let discount = parseFloat(document.getElementById("discount").value) || 0;

  let vatRate = document.getElementById("vatRate").value;
  if(vatRate === "custom"){
    vatRate = parseFloat(document.getElementById("customVat").value) || 0;
  }

  vatRate = vatRate / 100;

  let vatType = document.getElementById("vatType").value;

  let subtotal = amount - discount;
  let taxable = subtotal;
  let vat = 0;
  let total = 0;

  if(vatType === "add"){
    vat = taxable * vatRate;
    total = taxable + vat;
  } else {
    vat = taxable - (taxable / (1 + vatRate));
    total = taxable;
    taxable = total - vat;
  }

  document.getElementById("result").innerHTML = `
    <h3>Invoice Summary</h3>
    Invoice No: ${invoiceNo.value}<br>
    Issue Date: ${issueDate.value}<br>
    Transaction Date: ${transDate.value}<br><br>

    Buyer: ${buyer.value}<br>
    Buyer VAT: ${buyerVat.value}<br>
    Phone: ${buyerPhone.value}<br><br>

    Subtotal: Rs. ${subtotal.toFixed(2)}<br>
    Discount: Rs. ${discount.toFixed(2)}<br>
    Taxable Amount: Rs. ${taxable.toFixed(2)}<br>
    VAT (${vatRate*100}%): Rs. ${vat.toFixed(2)}<br>

    <h3>Grand Total: Rs. ${total.toFixed(2)}</h3>
    In Words: ${numberToWords(Math.round(total))} Rupees Only<br><br>

    -----------------------------<br>
    Received By: _____<br>
    Prepared By: _____
  `;
}
</script>

</body>
</html>
