<div style="max-width:450px;margin:auto;padding:20px;border:1px solid #ddd;border-radius:10px;font-family:Arial;">
  <h2>VAT Calculator (Nepal 13%)</h2>

  <label>Enter Amount:</label>
  <input type="number" id="amount" placeholder="Enter amount" style="width:100%;padding:8px;margin:10px 0;">

  <label>Select Option:</label>
  <select id="vatType" style="width:100%;padding:8px;margin:10px 0;">
    <option value="add">Add VAT (13%)</option>
    <option value="extract">Extract VAT (13%)</option>
  </select>

  <button onclick="calculateVAT()" style="width:100%;padding:10px;background:#007bff;color:white;border:none;border-radius:5px;">
    Calculate</button>

  <button onclick="clearHistory()" style="width:100%;padding:8px;margin-top:8px;background:#dc3545;color:white;border:none;border-radius:5px;">
    Clear History</button>

  <h3 id="result" style="margin-top:15px;"></h3>

  <h3>History</h3>
  <ol id="history"></ol>
</div>

<script>
let count = 0;

function calculateVAT() {
  let amount = parseFloat(document.getElementById("amount").value);
  let vatType = document.getElementById("vatType").value;
  let vatRate = 0.13;
  let result = "";

  if (isNaN(amount)) {
    result = "Please enter valid amount.";
  } else {
    count++;

    if (vatType === "add") {
      let vat = amount * vatRate;
      let total = amount + vat;
      result = "VAT: " + vat.toFixed(2) + " | Total: " + total.toFixed(2);

      addHistory("Bill " + count + " → Amount: " + amount + 
                 " | VAT: " + vat.toFixed(2) + 
                 " | Total: " + total.toFixed(2));
    } 
    else {
      let base = amount / (1 + vatRate);
      let vat = amount - base;
      result = "Base: " + base.toFixed(2) + " | VAT: " + vat.toFixed(2);

      addHistory("Bill " + count + " → Total: " + amount + 
                 " | Base: " + base.toFixed(2) + 
                 " | VAT: " + vat.toFixed(2));
    }
  }

  document.getElementById("result").innerHTML = result;
}

function addHistory(text) {
  let li = document.createElement("li");
  li.innerHTML = text;
  document.getElementById("history").appendChild(li);
}

function clearHistory() {
  document.getElementById("history").innerHTML = "";
  count = 0;
}
</script>
