<!DOCTYPE html>
<html lang="ne">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Diary Nepal VAT Calculator</title>

<style>
body{
margin:0;
font-family:Segoe UI;
background:linear-gradient(135deg,#0b1c3d,#1a2f55);
color:#fff;
}

.wrapper{
max-width:1200px;
margin:auto;
padding:40px 20px;
}

.header{text-align:center;margin-bottom:30px;}
.header h1{margin:0;font-size:32px;}
.header p{color:#fbbf24;margin-top:5px;}

.grid{
display:grid;
grid-template-columns:2fr 1fr;
gap:25px;
}

.card{
background:rgba(255,255,255,0.05);
border-radius:16px;
padding:25px;
box-shadow:0 10px 30px rgba(0,0,0,.3);
}

.mode{
display:flex;
gap:10px;
margin-bottom:20px;
}

.mode button{
flex:1;
padding:12px;
border:none;
border-radius:10px;
background:#243b63;
color:#fff;
cursor:pointer;
}

.mode .active{
background:linear-gradient(90deg,#f59e0b,#fb923c);
}

input{
width:100%;
padding:15px;
border:none;
border-radius:10px;
background:#0b1c3d;
color:white;
font-size:18px;
margin:15px 0;
}

.calcBtn{
width:100%;
padding:15px;
border:none;
border-radius:12px;
background:linear-gradient(90deg,#f59e0b,#fb923c);
font-size:18px;
cursor:pointer;
}

.result{
margin-top:20px;
background:#0b1c3d;
padding:20px;
border-radius:12px;
}

.row{
display:flex;
justify-content:space-between;
margin:8px 0;
}

.total{font-size:22px;color:#fbbf24;font-weight:bold;}

.historyItem{
background:#0b1c3d;
padding:15px;
border-radius:10px;
margin-bottom:12px;
}

.clear{
background:#ef4444;
margin-top:10px;
padding:10px;
border:none;
border-radius:8px;
width:100%;
cursor:pointer;
}
</style>
</head>

<body>

<div class="wrapper">

<div class="header">
<h1>Diary Nepal</h1>
<p>नेपालको विश्वसनीय भ्याट गणना उपकरण</p>
</div>

<div class="grid">

<!-- Calculator -->
<div class="card">

<h3>भ्याट क्यालकुलेटर</h3>

<div class="mode">
<button id="addBtn" class="active" onclick="setMode('add')">↑ VAT थप्नुहोस्</button>
<button id="removeBtn" onclick="setMode('remove')">↓ VAT हटाउनुहोस्</button>
</div>

<input type="number" id="amount" placeholder="रकम (NPR)">

<button class="calcBtn" onclick="calculate()">गणना गर्नुहोस्</button>

<div class="result" id="result" style="display:none;">
<div class="row"><span>मूल रकम</span><span id="net"></span></div>
<div class="row"><span>VAT (13%)</span><span id="vat"></span></div>
<hr>
<div class="row total"><span>कुल रकम</span><span id="total"></span></div>
</div>

</div>

<!-- History -->
<div class="card">
<h3>गणना इतिहास</h3>
<div id="history"></div>
<button class="clear" onclick="clearHistory()">इतिहास हटाउनुहोस्</button>
</div>

</div>
</div>

<script>
let mode="add";
let history=[];

function setMode(m){
mode=m;
document.getElementById("addBtn").classList.remove("active");
document.getElementById("removeBtn").classList.remove("active");

if(m==="add") addBtn.classList.add("active");
else removeBtn.classList.add("active");
}

function calculate(){
let amt=parseFloat(document.getElementById("amount").value);
if(!amt) return alert("रकम हाल्नुहोस्");

let net,vat,total;

if(mode==="add"){
net=amt;
vat=amt*0.13;
total=net+vat;
}else{
total=amt;
net=amt/1.13;
vat=total-net;
}

document.getElementById("net").innerText="NPR "+net.toFixed(2);
document.getElementById("vat").innerText="NPR "+vat.toFixed(2);
document.getElementById("total").innerText="NPR "+total.toFixed(2);
document.getElementById("result").style.display="block";

history.unshift({net,vat,total,time:new Date().toLocaleTimeString()});
if(history.length>6) history.pop();
renderHistory();
}

function renderHistory(){
let html="";
history.forEach(h=>{
html+=`
<div class="historyItem">
मूल: NPR ${h.net.toFixed(2)}<br>
VAT: NPR ${h.vat.toFixed(2)}<br>
कुल: NPR ${h.total.toFixed(2)}<br>
<small>${h.time}</small>
</div>`;
});
document.getElementById("history").innerHTML=html;
}

function clearHistory(){
history=[];
renderHistory();
}
</script>

</body>
</html>
