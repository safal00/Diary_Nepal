<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Luxury Quotation</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
body{
font-family:'Poppins',sans-serif;
background:linear-gradient(120deg,#eef2ff,#dbeafe,#f5f3ff);
margin:0;padding:35px}

.container{
max-width:1250px;margin:auto;background:white;border-radius:26px;padding:40px;
box-shadow:0 40px 120px rgba(0,0,0,.12)}

/* PREMIUM HEADER */
.header{
background:linear-gradient(120deg,#4f46e5,#7c3aed);
color:white;padding:35px;border-radius:20px;
display:flex;justify-content:space-between;flex-wrap:wrap;margin-bottom:30px;
box-shadow:0 20px 50px rgba(79,70,229,.3)}
.company-header h2{margin:0;font-size:32px;font-weight:700;letter-spacing:.5px}
.company-header div{opacity:.9}

.company{background:#f8fafc;padding:18px;border-radius:16px;margin-bottom:30px;display:flex;gap:15px;flex-wrap:wrap;box-shadow:0 8px 20px rgba(0,0,0,.04)}
input[type=text],input[type=date]{padding:11px;border-radius:10px;border:1px solid #e2e8f0}

.table{width:100%;border-collapse:separate;border-spacing:0;border-radius:16px;overflow:hidden;box-shadow:0 10px 25px rgba(0,0,0,.05)}
th{background:#1e293b;color:white;padding:15px;font-weight:600}
td{padding:14px;border-bottom:1px solid #f1f5f9;text-align:center;transition:.25s}
tr:hover td{background:#f8fafc}

.row-actions{opacity:0;transition:.35s}
tr:hover .row-actions{opacity:1}
.row-actions button{background:#ef4444;border:none;color:white;border-radius:50%;width:26px;height:26px;cursor:pointer}

.btn{
background:linear-gradient(120deg,#4f46e5,#7c3aed);
border:none;padding:12px 24px;border-radius:14px;color:white;
cursor:pointer;margin-top:14px;font-weight:600;
box-shadow:0 10px 20px rgba(79,70,229,.25);
transition:.25s}
.btn:hover{transform:translateY(-2px);box-shadow:0 15px 25px rgba(79,70,229,.35)}

.preview-img{max-width:180px;height:auto;border-radius:12px;cursor:pointer;margin-top:8px;display:none;border:1px solid #ddd;transition:.25s}
.preview-img:hover{transform:scale(1.05)}

.total-box{margin-top:28px;text-align:right;font-size:20px;background:#f1f5f9;padding:18px;border-radius:14px;font-weight:600}

.signature-area{margin-top:40px;display:flex;justify-content:space-between;gap:40px;flex-wrap:wrap}
.signature-box{flex:1;min-width:260px}
.signature-box.right{text-align:right;display:flex;flex-direction:column;align-items:flex-end}
.signature-area img{max-height:80px;margin-top:10px;border-radius:10px}
.signature-area img{max-height:80px;margin-top:10px;border-radius:10px}

.terms{margin-top:30px;background:#f8fafc;padding:18px;border-radius:16px;box-shadow:0 8px 20px rgba(0,0,0,.05)}
.file-hidden{display:none}
.upload-btn{background:#e0e7ff;padding:7px 15px;border-radius:10px;cursor:pointer;font-size:14px}

/* PHOTO ZOOM MODAL */
.modal{position:fixed;inset:0;background:rgba(0,0,0,.6);display:none;align-items:center;justify-content:center}
.modal img{max-width:80%;border-radius:14px;box-shadow:0 20px 50px black}
</style>
</head>

<body>
<div class="container">

<div class="header">
<div class="company-header">
<h2 contenteditable="true">Your Company Name</h2>
<div contenteditable="true">Address Line • Phone • Email</div>
</div>
<div>
<div style="margin-bottom:10px">Date <input type="date"></div>
<div>Quotation No <input type="text" placeholder="Q-001"></div>
</div>
</div>

<div class="company">
<input type="text" placeholder="Client Name">
<input type="text" placeholder="Client Address">
<input type="text" placeholder="Client Phone">
</div>

<table class="table" id="quoteTable">
<thead>
<tr>
<th>S.N</th>
<th>Description</th>
<th>Design</th>
<th>Qty</th>
<th>Rate</th>
<th>Amount</th>
<th>X</th>
</tr>
</thead>
<tbody></tbody>
</table>

<button class="btn" onclick="addRow()">+ Add Item</button>
<button class="btn" onclick="window.print()">Download PDF</button>

<div class="total-box">Total Amount: Rs <span id="total">0</span></div>

<div class="signature-area">
<div class="signature-box">
<b>Prepared By</b><div style="border-bottom:1px solid #999;width:200px;margin:8px 0"></div>
<label class="upload-btn">Upload Company Logo
<input type="file" accept="image/*" class="file-hidden" onchange="previewSign(event,'prepSign')"></label><br>
<img id="prepSign" style="display:none">
</div>

<div class="signature-box right">
<b>Approved By (Client)</b><div style="border-bottom:1px solid #999;width:200px;margin:8px 0 8px auto"></div>
<label class="upload-btn">Upload Company Logo
<input type="file" accept="image/*" class="file-hidden" onchange="previewSign(event,'appSign')"></label><br>
<img id="appSign" style="display:none">
</div>
</div>


<div class="terms">
<b contenteditable="true">Terms & Conditions</b>
<ol contenteditable="true">
<li>Payment after delivery</li>
<li>Design once approved cannot change</li>
<li>Delivery within 7 days</li>
<li>Transportation extra</li>
</ol>
</div>
</div>

<div class="modal" id="modal"><img id="modalImg"></div>

<script>
let sn=1;

function addRow(){
let t=document.querySelector('#quoteTable tbody');
let r=t.insertRow();
r.innerHTML=`
<td>${sn++}</td>
<td contenteditable></td>
<td>
<label class='upload-btn upload-label'>Upload Photo
<input class='file-hidden' type='file' accept='image/*'>
</label><br>
<img class='preview-img'>
</td>
<td contenteditable oninput='calc(this)'></td>
<td contenteditable oninput='calc(this)'></td>
<td></td>
<td class='row-actions'><button onclick='deleteRow(this)'>X</button></td>`;

const fileInput=r.querySelector("input[type='file']");
const img=r.querySelector(".preview-img");
fileInput.addEventListener("change",function(e){
const file=e.target.files[0];
if(!file)return;
img.src=URL.createObjectURL(file);
img.style.display="block";
r.querySelector('.upload-label').style.display='none';
img.onclick=()=>{document.getElementById('modal').style.display='flex';document.getElementById('modalImg').src=img.src};
});}

function deleteRow(btn){btn.closest("tr").remove();calcTotal();resetSN();}

function calc(el){let r=el.parentElement;let q=parseFloat(r.cells[3].innerText)||0;let rate=parseFloat(r.cells[4].innerText)||0;r.cells[5].innerText=q*rate||'';calcTotal();}

function calcTotal(){let sum=0;document.querySelectorAll('#quoteTable tbody tr').forEach(r=>{sum+=Number(r.cells[5].innerText)||0});document.getElementById('total').innerText=sum;}

function resetSN(){sn=1;document.querySelectorAll('#quoteTable tbody tr').forEach(r=>{r.cells[0].innerText=sn++})}

function previewSign(e,id){const file=e.target.files[0];if(!file)return;const img=document.getElementById(id);img.src=URL.createObjectURL(file);img.style.display='block';e.target.closest('label').style.display='none';}

function logoUpload(e){
const file=e.target.files[0];
if(!file)return;
const img=document.getElementById('companyLogo');
img.src=URL.createObjectURL(file);
img.style.display='block';
document.getElementById('logoTitle').style.display='none';
e.target.closest('label').style.display='none';
}

modal.onclick=()=>modal.style.display='none';
</script>

// close modal
modal.onclick=()=>modal.style.display='none';
</script>
</body>
</html>
