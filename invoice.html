<!DOCTYPE html>
<html>
<head>
<meta charset='UTF-8'>
<title>Invoice</title>
<script src='https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js'></script>
<style>
body{font-family:Arial;padding:20px;background:#eef3ff}
.invoice{width:210mm;min-height:297mm;background:#fff;margin:auto;padding:25px}
h1{text-align:center;color:#2a5fa5}
.top{display:flex;justify-content:space-between;margin:20px 0;font-weight:bold}
.underline{border-bottom:2px solid #333;min-width:150px;display:inline-block;padding:2px}
.details{display:flex;justify-content:space-between;margin:20px 0}
.details div{width:48%}
table{width:100%;border-collapse:collapse;margin-top:10px}
th,td{border:1px solid #666;padding:6px;text-align:left}
th{background:#cfe0ff}
.total{text-align:right;font-size:20px;font-weight:bold;margin-top:20px;color:#2a5fa5}
.buttons{text-align:center;margin-top:20px}
.btn{padding:8px 14px;margin:5px;border:none;background:#2a5fa5;color:#fff;border-radius:5px;cursor:pointer}
.btn:hover{background:#1d4a82}
.whatsapp{background:#25D366}
.whatsapp:hover{background:#1ebe5d}
</style>
</head>
<body>

<div class='invoice' id='invoice'>
<h1>INVOICE</h1>

<div class='top'>
<div>Invoice No: <span contenteditable='true' class='underline'>____</span></div>
<div>Date: <span contenteditable='true' class='underline'>____</span></div>
</div>

<div class='details'>
<div>
<b>Company</b><br>
<div contenteditable='true'>Company Name</div>
<div contenteditable='true'>Address / Phone</div>
</div>
<div>
<b>Buyer</b><br>
<div contenteditable='true'>Buyer Name</div>
<div contenteditable='true'>Buyer Address</div>
<div contenteditable='true'>Buyer Phone</div>
</div>
</div>

<table id='tbl'>
<thead>
<tr><th>S.No</th><th>Description</th><th>Qty</th><th>Rate</th><th>Amount</th></tr>
</thead>
<tbody></tbody>
</table>

<div class='total'>Grand Total: â‚¹ <span id='gt'>0</span></div>
<br>
Prepared By: <span contenteditable='true' class='underline'>____</span>
</div>

<div class='buttons'>
<button class='btn' onclick='addRow()'>+ Add Item</button>
<button class='btn' onclick='removeRow()'>Remove Item</button>
<button class='btn' onclick='window.print()'>Print</button>
<button class='btn whatsapp' onclick='shareInvoice()'>ðŸ“± Share</button>
</div>

<script>
let tbody=document.querySelector('#tbl tbody');
function addRow(){
let r=document.createElement('tr');
r.innerHTML=`<td></td>
<td contenteditable='true'>Item</td>
<td contenteditable='true'>1</td>
<td contenteditable='true'>0</td>
<td>0</td>`;
tbody.appendChild(r);
calc();}
function removeRow(){tbody.lastElementChild?.remove();calc();}
function calc(){let t=0;[...tbody.rows].forEach((r,i)=>{r.cells[0].innerText=i+1;
let q=parseFloat(r.cells[2].innerText)||0;
let rate=parseFloat(r.cells[3].innerText)||0;
let a=q*rate;r.cells[4].innerText=a;t+=a;});
document.getElementById('gt').innerText=t;}
setInterval(calc,500);
addRow();

function shareInvoice(){
let btn=document.querySelector('.buttons');btn.style.display='none';
html2canvas(document.getElementById('invoice'),{scale:3}).then(c=>{
 c.toBlob(b=>{
   if(navigator.share){
     navigator.share({files:[new File([b],'Invoice.png',{type:'image/png'})]});
   }else alert('Use mobile for WhatsApp share');
   btn.style.display='block';
 });});}
</script>
</body>
</html>
