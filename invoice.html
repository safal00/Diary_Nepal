<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Invoice</title>
<style>
body{font-family:Arial;padding:20px}
.invoice{max-width:900px;margin:auto}
h1{text-align:center}
table{width:100%;border-collapse:collapse;margin-top:20px}
th,td{border:1px solid #000;padding:6px;text-align:center}
input{width:90%;border:none;text-align:center;font-size:15px}
input:focus{outline:none}
.buttons{text-align:center;margin-top:20px}
button{padding:8px 15px;margin:5px;border:none;background:#2a5fa5;color:#fff;cursor:pointer}
button:hover{background:#1d4a82}
</style>
</head>
<body>

<div class="invoice">
<h1>INVOICE</h1>

<table id="tbl">
<thead>
<tr>
<th>S.No</th>
<th>Description</th>
<th>Size</th>
<th>Qty</th>
<th>Rate</th>
<th>Amount</th>
</tr>
</thead>
<tbody id="tbody">
</tbody>
<tfoot>
<tr>
<td colspan="5"><b>Grand Total</b></td>
<td><b id="gt">0</b></td>
</tr>
</tfoot>
</table>

<div class="buttons">
<button onclick="addRow()">+ Add Item</button>
<button onclick="removeRow()">Remove Item</button>
<button onclick="window.print()">Print</button>
</div>

</div>

<script>
let tbody=document.getElementById("tbody");

function addRow(){
let rowCount=tbody.rows.length+1;

let r=document.createElement("tr");
r.innerHTML=`
<td>${rowCount}</td>
<td><input type="text"></td>
<td><input type="text"></td>
<td><input type="number" class="qty" oninput="calc(this)"></td>
<td><input type="number" class="rate" oninput="fixRate(this);calc(this)"></td>
<td class="amount">0</td>
`;

tbody.appendChild(r);
}

function removeRow(){
tbody.lastElementChild?.remove();
updateSerial();
calcTotal();
}

function updateSerial(){
[...tbody.rows].forEach((row,i)=>{
row.cells[0].innerText=i+1;
});
}

function fixRate(el){
if(el.value.length>1 && el.value.startsWith("0")){
el.value=parseFloat(el.value);
}
}

function calc(el){
let row=el.closest("tr");
let qty=row.querySelector(".qty").value||0;
let rate=row.querySelector(".rate").value||0;
let amt=qty*rate;
row.querySelector(".amount").innerText=amt;
calcTotal();
}

function calcTotal(){
let total=0;
document.querySelectorAll(".amount").forEach(a=>{
total+=Number(a.innerText)||0;
});
document.getElementById("gt").innerText=total;
}
</script>

</body>
</html>
