<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Premium Quotation</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{font-family:'Segoe UI',Arial;background:linear-gradient(120deg,#e8ecff,#f5f7ff);margin:0;padding:20px}
.container{max-width:1100px;margin:auto;background:#fff;padding:22px;border-radius:16px;box-shadow:0 10px 28px rgba(0,0,0,.12)}
.header{display:flex;align-items:center;justify-content:space-between;margin-bottom:18px;padding:14px 0;border-bottom:2px solid #edf0f7}
.logo img{max-height:80px;max-width:200px;object-fit:contain;display:block}
.designPreview{max-width:120px;max-height:120px;object-fit:contain;margin-top:4px;border-radius:6px}
.quote-badge{font-size:30px;font-weight:800;color:#2d4da5;letter-spacing:1px}
button{padding:8px 18px;border:none;border-radius:8px;background:linear-gradient(90deg,#2d4da5,#4b6fe0);color:#fff;margin:6px;cursor:pointer;font-weight:600;box-shadow:0 4px 10px rgba(0,0,0,.15)}
button:hover{transform:translateY(-1px)}
.table{width:100%;border-collapse:collapse;margin-top:14px;font-size:14px}
.table th{background:linear-gradient(90deg,#2d4da5,#4b6fe0);color:#fff;padding:12px}
.table td{border:1px solid #e3e7f1;padding:9px;text-align:center}
.table tr:nth-child(even){background:#f7f9ff}
input[type='number']{width:80px;padding:5px;border-radius:6px;border:1px solid #ccc}
.footer{margin-top:25px;font-size:13px;color:#555;border-top:1px dashed #ddd;padding-top:12px}
.total-box{margin-top:18px;text-align:right;font-size:20px;font-weight:700;color:#1f3674}
b{color:#2d4da5}
@media print{button{display:none !important;}body{background:#fff;padding:0}.container{box-shadow:none;border-radius:0}}
</style>
</head>
<body>

<div class="container">

<div class="header">
  <div class="logo">
    <input type="file" accept="image/*" onchange="previewLogo(this)"><br>
    <img id="companyLogo" style="display:none">
  </div>
  <div contenteditable="true" class="quote-badge">QUOTATION</div>
</div>
</div>

<div style="display:flex;justify-content:space-between;margin-bottom:10px;font-size:14px">
<div>
<b>Company Details</b><br>
Company Name: <span contenteditable="true"></span><br>
Address: <span contenteditable="true"></span><br>
Phone: <span contenteditable="true"></span>
</div>
<div>
<b>Buyer Details</b><br>
Buyer Name: <span contenteditable="true"></span><br>
Address: <span contenteditable="true"></span><br>
Phone: <span contenteditable="true"></span>
</div>
<div>
Quotation No: <span contenteditable="true"></span><br>
Date: <span contenteditable="true"></span>
</div>
</div>

<button onclick="addRow()">Add Item</button>
<button onclick="window.print()">Print</button>
<button onclick="downloadPDF()">Download PDF</button>

<table class="table" id="qTable">
<tr>
<th>S.No</th>
<th>Description</th>
<th>Design</th>
<th>Size</th>
<th>Qty</th>
<th>Rate</th>
<th>Amount</th>
<th>Action</th>
</tr>
</table>

<div class="total-box">
Grand Total: Rs. <span id="grandTotal">0</span>
</div>

<div class="footer">
<br>
Prepared By: <span contenteditable="true" style="border-bottom:1px solid #aaa;min-width:120px;display:inline-block"></span>
<br><br>
<b>Terms & Conditions</b><br>
1. Goods once sold not returnable.<br>
2. 50% advance required.<br>
3. Delivery within 7 days.
</div>

</div>

<script>
let count=0;
const table=document.getElementById('qTable');

function addRow(){
 count++;
 let row=table.insertRow();
 row.innerHTML=`
 <td>${count}</td>
 <td contenteditable='true'></td>
 <td>
   <input type='file' accept='image/*' onchange='previewDesign(this)' style='width:140px'>
   <br>
   <img class='designPreview' style='max-width:70px;margin-top:4px;display:none;border-radius:6px'>
 </td>
 <td contenteditable='true'></td>
 <td><input type='number' min='0' oninput='calculate(this)'></td>
 <td><input type='number' min='0' oninput='calculate(this)'></td>
 <td class='amount'>0</td>
 <td><button onclick='deleteRow(this)'>Delete</button></td>
 `;
}

function deleteRow(btn){
 btn.closest('tr').remove();
 renumber();
 calculateTotal();
}

function renumber(){
 let rows=table.querySelectorAll('tr');
 rows.forEach((r,i)=>{if(i>0) r.cells[0].innerText=i;});
 count=rows.length-1;
}

function calculate(input){
 let row=input.closest('tr');
 let qty=row.cells[4].querySelector('input').value || 0;
 let rate=row.cells[5].querySelector('input').value || 0;
 let amount=qty*rate;
 row.querySelector('.amount').innerText=amount.toFixed(2);
 calculateTotal();
}

function calculateTotal(){
 let total=0;
 document.querySelectorAll('.amount').forEach(cell=>{
  total+=parseFloat(cell.innerText)||0;
 });
 document.getElementById('grandTotal').innerText=total.toFixed(2);
}

function downloadPDF(){
 window.print();
}

function previewDesign(input){
 let img=input.parentElement.querySelector('.designPreview');
 if(input.files && input.files[0]){
   const reader=new FileReader();
   reader.onload=function(e){
     img.src=e.target.result;
     img.style.display='block';
   };
   reader.readAsDataURL(input.files[0]);
 }
}

function previewLogo(input){
 let img=document.getElementById('companyLogo');
 if(input.files && input.files[0]){
   const reader=new FileReader();
   reader.onload=function(e){
     img.src=e.target.result;
     img.style.display='block';
   };
   reader.readAsDataURL(input.files[0]);
 }
};
   reader.readAsDataURL(input.files[0]);
 }
}
}

window.onload=addRow;
</script>

</body>
</html>
