<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Professional Quotation</title>

<style>
body{
font-family: Arial;
background:#f2f5ff;
padding:20px;
}

.quotation-container{
max-width:1000px;
margin:auto;
background:#fff;
padding:30px;
border-radius:8px;
box-shadow:0 10px 25px rgba(0,0,0,0.1);
}

h1{text-align:center;color:#004080;}

.flex{display:flex;gap:15px;flex-wrap:wrap;}
.flex .box{flex:1 1 48%;}

input{
width:100%;
padding:6px;
margin:4px 0;
border:1px solid #ccc;
border-radius:4px;
text-align:center;
}

table{
width:100%;
border-collapse:collapse;
margin-top:15px;
}

th,td{
border-bottom:1px solid #ddd;
padding:6px;
text-align:center;
}

th{
background:#cce0ff;
}

.photo-container{
position:relative;
width:90px;
height:65px;
margin:auto;
border:1px solid #ccc;
border-radius:5px;
overflow:hidden;
background:#fafafa;
}

.photo-container img{
width:100%;
height:100%;
object-fit:cover;
display:none;
}

.photo-container input{
position:absolute;
width:100%;
height:100%;
opacity:0;
cursor:pointer;
}

.remove-btn{
position:absolute;
top:2px;
right:2px;
background:red;
color:#fff;
border:none;
border-radius:50%;
width:18px;
height:18px;
font-size:12px;
display:none;
cursor:pointer;
}

button{
background:#0066cc;
color:#fff;
border:none;
padding:6px 14px;
border-radius:4px;
cursor:pointer;
}

@media(max-width:768px){
.flex .box{flex:1 1 100%;}
table{display:block;overflow:auto;}
}
</style>
</head>

<body>

<div class="quotation-container">

<h1>QUOTATION</h1>

<div class="flex">
<div class="box">
<h3>Client</h3>
<input placeholder="Client Name">
<input placeholder="Company">
<input placeholder="Address">
<input placeholder="Phone">
</div>

<div class="box">
<h3>Company</h3>
<input placeholder="Company Name">
<input placeholder="Address">
<input placeholder="Phone">
<input type="date">
<input placeholder="Quotation No.">
</div>
</div>

<table id="items">
<thead>
<tr>
<th>SN</th>
<th>Description</th>
<th>Design</th>
<th>Size</th>
<th>Qty</th>
<th>Unit</th>
<th>Total</th>
<th></th>
</tr>
</thead>

<tbody>
<tr>
<td>1</td>
<td><input placeholder="Item"></td>
<td>
<div class="photo-container">
<img>
<input type="file" accept="image/*" onchange="preview(this)">
<button class="remove-btn" onclick="removeImg(this)">×</button>
</div>
</td>
<td><input placeholder="Size"></td>
<td><input value="0" oninput="calc(this)"></td>
<td><input value="0" oninput="calc(this)"></td>
<td><input value="0" readonly></td>
<td><button onclick="delRow(this)">×</button></td>
</tr>
</tbody>
</table>

<button onclick="add()">+ Add</button>

<br><br>

Subtotal <input id="sub" readonly>
Discount % <input id="dis" oninput="total()">
Grand <input id="grand" readonly>

</div>

<script>

function preview(input){
let file=input.files[0];
let box=input.parentElement;
let img=box.querySelector("img");
let btn=box.querySelector(".remove-btn");

if(file){
img.src=URL.createObjectURL(file);
img.style.display="block";
btn.style.display="block";
}
}

function removeImg(btn){
let box=btn.parentElement;
let img=box.querySelector("img");
let input=box.querySelector("input");

img.src="";
img.style.display="none";
input.value="";
btn.style.display="none";
}

function add(){
let tb=document.querySelector("#items tbody");
let n=tb.rows.length+1;
let r=tb.insertRow();

r.innerHTML=`
<td>${n}</td>
<td><input></td>
<td>
<div class="photo-container">
<img>
<input type="file" accept="image/*" onchange="preview(this)">
<button class="remove-btn" onclick="removeImg(this)">×</button>
</div>
</td>
<td><input></td>
<td><input value="0" oninput="calc(this)"></td>
<td><input value="0" oninput="calc(this)"></td>
<td><input value="0" readonly></td>
<td><button onclick="delRow(this)">×</button></td>`;
}

function calc(e){
let tr=e.closest("tr");
let q=+tr.cells[4].querySelector("input").value||0;
let p=+tr.cells[5].querySelector("input").value||0;
tr.cells[6].querySelector("input").value=q*p;
total();
}

function total(){
let s=0;
document.querySelectorAll("#items tbody tr").forEach(r=>{
s+=+r.cells[6].querySelector("input").value||0;
});
document.getElementById("sub").value=s;
let d=document.getElementById("dis").value||0;
document.getElementById("grand").value=(s-(s*d/100)).toFixed(2);
}

function delRow(btn){
btn.closest("tr").remove();
let rows=document.querySelectorAll("#items tbody tr");
rows.forEach((r,i)=>r.cells[0].innerText=i+1);
total();
}
</script>

</body>
</html>
