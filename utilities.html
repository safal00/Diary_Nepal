<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Professional Invoice</title>

<style>
body{
  font-family: Arial, sans-serif;
  margin:40px;
  background:#f4f6f8;
}

.invoice-box{
  max-width:900px;
  margin:auto;
  background:white;
  padding:30px;
  box-shadow:0 0 10px rgba(0,0,0,0.15);
}

.header{
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
}

.company-info h2{
  margin:0;
}

.logo-preview{
  max-height:90px;
}

table{
  width:100%;
  border-collapse:collapse;
  margin-top:20px;
}

table th{
  background:#2c3e50;
  color:white;
  padding:10px;
  text-align:left;
}

table td{
  padding:8px;
  border-bottom:1px solid #ddd;
}

.totals{
  margin-top:20px;
  width:300px;
  float:right;
}

.totals div{
  display:flex;
  justify-content:space-between;
  margin-bottom:6px;
}

.no-print{
  margin-top:20px;
}

button{
  padding:8px 15px;
  background:#2c3e50;
  color:white;
  border:none;
  cursor:pointer;
}

/* ---------------- PRINT STYLE ---------------- */

@media print{

  body{
    background:white;
    margin:0;
  }

  .no-print,
  input,
  select,
  textarea{
    display:none !important;
  }

  .invoice-box{
    box-shadow:none;
    padding:0;
  }

  table th{
    background:white !important;
    color:black !important;
    border-bottom:2px solid black;
  }

}
</style>
</head>

<body>

<div class="invoice-box">

<div class="header">
  <div class="company-info">
    <h2 id="printCompanyName"></h2>
    <div id="printCompanyAddress"></div>
    <div id="printCompanyContact"></div>
  </div>

  <div>
    <img id="logoPreview" class="logo-preview">
  </div>
</div>

<hr>

<h3 id="printInvoiceType"></h3>

<div style="display:flex; justify-content:space-between;">
  <div>
    <strong>Bill To:</strong><br>
    <span id="printCustomerName"></span><br>
    <span id="printCustomerAddress"></span><br>
    <span id="printCustomerContact"></span>
  </div>
  <div>
    <strong>Invoice No:</strong> <span id="printInvoiceNo"></span><br>
    <strong>Date:</strong> <span id="printDate"></span>
  </div>
</div>

<table>
<thead>
<tr>
<th>Description</th>
<th>Qty</th>
<th>Rate</th>
<th>Amount</th>
</tr>
</thead>
<tbody id="itemsBody">
<tr>
<td><input type="text" class="desc"></td>
<td><input type="number" class="qty" value="1"></td>
<td><input type="number" class="rate" value="0"></td>
<td class="amount">0</td>
</tr>
</tbody>
</table>

<div class="totals">
<div><strong>Total</strong><strong id="grandTotal">0.00</strong></div>
</div>

<div style="clear:both;"></div>

<div class="no-print">
<br><br>
Company Name: <input type="text" id="companyName"><br><br>
Address: <input type="text" id="companyAddress"><br><br>
Phone/Email: <input type="text" id="companyContact"><br><br>

Invoice Type:
<select id="invoiceType">
<option>Invoice</option>
<option>Proforma Invoice</option>
</select><br><br>

Invoice No: <input type="text" id="invoiceNo"><br><br>
Date: <input type="date" id="date"><br><br>

Customer Name: <input type="text" id="customerName"><br><br>
Customer Address: <input type="text" id="customerAddress"><br><br>
Customer Contact: <input type="text" id="customerContact"><br><br>

Upload Logo: <input type="file" id="logoInput"><br><br>

<button onclick="addItem()">Add Item</button>
<button onclick="window.print()">Print / Save PDF</button>
</div>

</div>

<script>

document.getElementById("logoInput").addEventListener("change",function(e){
  const reader=new FileReader();
  reader.onload=function(){
    document.getElementById("logoPreview").src=reader.result;
  }
  reader.readAsDataURL(e.target.files[0]);
});

function addItem(){
  let row=document.createElement("tr");
  row.innerHTML=`
    <td><input type="text" class="desc"></td>
    <td><input type="number" class="qty" value="1"></td>
    <td><input type="number" class="rate" value="0"></td>
    <td class="amount">0</td>
  `;
  document.getElementById("itemsBody").appendChild(row);
}

document.addEventListener("input",function(){
  let total=0;

  document.querySelectorAll("#itemsBody tr").forEach(row=>{
    let qty=row.querySelector(".qty").value || 0;
    let rate=row.querySelector(".rate").value || 0;
    let amount=qty*rate;
    row.querySelector(".amount").innerText=amount.toFixed(2);
    total+=amount;
  });

  document.getElementById("grandTotal").innerText=total.toFixed(2);
});

window.onbeforeprint=function(){

  document.getElementById("printCompanyName").innerText=
    document.getElementById("companyName").value;

  document.getElementById("printCompanyAddress").innerText=
    document.getElementById("companyAddress").value;

  document.getElementById("printCompanyContact").innerText=
    document.getElementById("companyContact").value;

  document.getElementById("printInvoiceType").innerText=
    document.getElementById("invoiceType").value;

  document.getElementById("printCustomerName").innerText=
    document.getElementById("customerName").value;

  document.getElementById("printCustomerAddress").innerText=
    document.getElementById("customerAddress").value;

  document.getElementById("printCustomerContact").innerText=
    document.getElementById("customerContact").value;

  document.getElementById("printInvoiceNo").innerText=
    document.getElementById("invoiceNo").value;

  document.getElementById("printDate").innerText=
    document.getElementById("date").value;
};

</script>

</body>
</html>
