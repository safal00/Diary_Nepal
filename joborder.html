<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Quotation</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
    font-family:'Segoe UI',Arial;
    background:#f4f6fb;
    margin:0;
    padding:20px;
}
.container{
    max-width:1100px;
    margin:auto;
    background:#fff;
    padding:25px;
    border-radius:10px;
    box-shadow:0 5px 20px rgba(0,0,0,0.08);
}
h1{
    text-align:center;
    color:#2f4ea1;
    letter-spacing:2px;
}
.top-flex{
    display:flex;
    justify-content:space-between;
    margin-top:20px;
}
.section{
    width:32%;
    font-size:14px;
}
button{
    background:#3f5fc4;
    color:white;
    border:none;
    padding:8px 14px;
    border-radius:6px;
    cursor:pointer;
    margin-right:8px;
}
button:hover{
    opacity:0.9;
}
table{
    width:100%;
    border-collapse:collapse;
    margin-top:20px;
}
th{
    background:#3f5fc4;
    color:white;
    padding:10px;
}
td{
    padding:8px;
    border-bottom:1px solid #ddd;
    text-align:center;
}
input{
    width:100%;
    padding:5px;
}
.design-img{
    width:60px;
    height:60px;
    object-fit:cover;
    border-radius:5px;
}
.total{
    text-align:right;
    font-size:18px;
    font-weight:bold;
    margin-top:15px;
    color:#2f4ea1;
}
.signature{
    display:flex;
    justify-content:space-between;
    margin-top:50px;
}
.line{
    border-top:1px solid #000;
    width:200px;
    margin-top:40px;
}
.terms{
    margin-top:30px;
    font-size:13px;
}
@media(max-width:768px){
    .top-flex{
        flex-direction:column;
        gap:15px;
    }
    .section{
        width:100%;
    }
}
</style>
</head>
<body>

<div class="container">

<h1>QUOTATION</h1>

<div class="top-flex">
<div class="section">
<b>Company Details</b><br>
Company Name:<br>
Address:<br>
Phone:
</div>

<div class="section">
<b>Client Details</b><br>
Client Name:<br>
Address:<br>
Phone:
</div>

<div class="section" style="text-align:right">
<b>Quotation Info</b><br>
Quotation No:<br>
Date:
</div>
</div>

<br>
<button onclick="addRow()">Add Item</button>
<button onclick="window.print()">Print</button>

<table id="itemTable">
<tr>
<th>S.No</th>
<th>Description</th>
<th>Design</th>
<th>Size</th>
<th>Qty</th>
<th>Rate</th>
<th>Amount</th>
</tr>
</table>

<div class="total">
Grand Total: Rs. <span id="grandTotal">0.00</span>
</div>

<div class="signature">
<div>
Prepared By:
<div class="line"></div>
</div>

<div>
Approved By (Client):
<div class="line"></div>
</div>
</div>

<div class="terms">
<b>Terms & Conditions</b>
<ol>
<li>Goods once sold not returnable.</li>
<li>50% advance required.</li>
<li>Delivery within 7 days.</li>
</ol>
</div>

</div>

<script>
let count = 0;

function addRow(){
    count++;
    let table = document.getElementById("itemTable");
    let row = table.insertRow();

    row.innerHTML = `
    <td>${count}</td>
    <td><input type="text"></td>
    <td>
        <input type="file" accept="image/*" onchange="previewImage(event,this)">
        <br>
        <img class="design-img">
    </td>
    <td><input type="text"></td>
    <td><input type="number" oninput="calculate(this)"></td>
    <td><input type="number" oninput="calculate(this)"></td>
    <td class="amount">0.00</td>
    `;
}

function previewImage(event,input){
    let reader = new FileReader();
    reader.onload = function(){
        input.nextElementSibling.nextElementSibling.src = reader.result;
    }
    reader.readAsDataURL(event.target.files[0]);
}

function calculate(el){
    let row = el.parentElement.parentElement;
    let qty = row.cells[4].querySelector("input").value;
    let rate = row.cells[5].querySelector("input").value;
    let amount = qty * rate;
    row.cells[6].innerText = amount.toFixed(2);

    updateTotal();
}

function updateTotal(){
    let total = 0;
    document.querySelectorAll(".amount").forEach(cell=>{
        total += parseFloat(cell.innerText) || 0;
    });
    document.getElementById("grandTotal").innerText = total.toFixed(2);
}
</script>

</body>
</html>
